<html>
<head>
	<title>car</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>

</head>
<body>
	<div class="header"></div>
	<div class="content">
		<div class="test">
			{% for item in ports %}
                <button class="testbutton" id="button{{item}}" style="background:#aaaaaa;">{{item}}</button>
            {% endfor %}
		</div>
        <br>
        <div class="carcontrol">
            
        </div>
	</div>
    <script type="text/javascript">   
    function buttonid(num){
        return "#button"+num;
    } 
    function removebuttonscolor(){
        {% for item in ports %}
            $(buttonid(i)).css('background',"#555555"); 
        {% endfor %}       
    } 
    function addbuttoncolor(num){
        $(buttonid(i)).css('background',"#cccccc");        
    }
   
    function showbuttoncolor(){
        removebuttonscolor();
        {% for item in highport %}
            addbuttoncolor("{{item}}");
        {% endfor %}
    }
    function initbutton(i){
        $(buttonid(i)).click(function(){
            console.log("click");
            $.post("/",{"port":i},function(data,status){
                console.log(data);
                console.log(status);
                showbuttoncolor();
            });
        });  
    }
    
    for(var i=1;i<=Number({{maxport}});i++){
        initbutton(i);
    }   
    </script>    
</body>
</html>
